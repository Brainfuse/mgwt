<!-- 
Copyright 2010 Daniel Kurka * * Licensed under the Apache License, 
Version 2.0 (the "License"); you may not * use this file except in compliance 
with the License. You may obtain a copy of * the License at * * http://www.apache.org/licenses/LICENSE-2.0 
	
*Unless required by applicable law or agreed to in writing, software * 
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT 
* WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the 
* License for the specific language governing permissions and limitations 
under * the License. 
	
-->

<module>
	<inherits name='com.google.gwt.user.User' />
	<inherits name='de.kurka.gwt.mobile.dom.DOM' />
	<inherits name='de.kurka.gwt.mobile.theme.base.BaseTheme' />



	<define-configuration-property name="mgwt.css" is-multi-valued="false" />
	<set-configuration-property name="mgwt.css" value="pretty" />


	<generate-with
		class="de.kurka.gwt.mobile.ui.generator.FeatureDetectionGenerator">
		<when-type-assignable class="de.kurka.gwt.mobile.ui.client.FeatureDetection" />
	</generate-with>

	<replace-with class="de.kurka.gwt.mobile.ui.client.widget.touch.TouchWidgetDesktopImpl">
		<when-type-is class="de.kurka.gwt.mobile.ui.client.widget.touch.TouchWidgetImpl" />
		<all>
			<when-property-is name="mobile.user.agent" value="not_mobile" />
		</all>
	</replace-with>
	<replace-with class="de.kurka.gwt.mobile.ui.client.widget.touch.TouchWidgetMobileImpl">
		<when-type-is class="de.kurka.gwt.mobile.ui.client.widget.touch.TouchWidgetImpl" />
		<all>
			<when-property-is name="mobile.user.agent" value="mobilesafari" />
		</all>
	</replace-with>

	<source path="client" />
</module>